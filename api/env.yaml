# api/env.yaml
# -----------------------------------------------------------------------------
# Purpose: Non-secret service metadata for the API service.
# Commit this file to the repo. Do NOT place secrets here.
# Secrets and runtime env vars belong in: api/env.run.yml
# -----------------------------------------------------------------------------

APP_NAME: "GoldMIND API"
SERVICE_NAME: "goldmind-api"
ENV: "prod"

# ---- Versioning --------------------------------------------------------------
# Semantic versioning for releases (CI/CD may overwrite at build time).
APP_VERSION: "v1.0.0"
GIT_SHA: ""             # Populated by CI/CD with commit SHA
BUILD_NUMBER: ""        # Optional: populated by CI/CD

# ---- Deployment metadata (non-secret) ----------------------------------------
PROJECT_ID: "goldmind-api"       # GCP project ID
REGION: "us-central1"
CLOUD_RUN_SERVICE: "goldmind-api"
PORT: 8080                       # Cloud Run default

# ---- Container build hints ---------------------------------------------------
BUILD:
  CONTEXT: "."                   # Docker build context
  DOCKERFILE: "api/Dockerfile"
  TARGET: "runtime"              # Multi-stage target (if any)
  IMAGE_NAME: "goldmind-api"

# ---- Public routes exposed by API --------------------------------------------
ROUTES:
  HEALTH: "/health"
  VERSION: "/version"
  SETTINGS: "/settings"
  PREDICT: "/predict"
  BIAS: "/bias"

# ---- Observability -----------------------------------------------------------
OBS:
  LOG_LEVEL_DEFAULT: "INFO"
  SENTRY_ENABLED: true           # DSN lives in api/env.run.yml

# ---- Notes -------------------------------------------------------------------
# - DO NOT add INTERNAL_SHARED_SECRET, COMPUTE_URL, or CORS settings here.
# - Keep SERVICE_NAME in sync with your Cloud Run service.
# - api/env.run.yml will handle secrets, origins, and runtime toggles.
